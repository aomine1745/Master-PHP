!function(root,factory){"function"==typeof define&&define.amd?define(factory):"object"==typeof exports?module.exports=factory():root.NProgress=factory()}(this,function(){var NProgress={version:"0.2.0"},Settings=NProgress.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,barSelector:'[role="bar"]',parent:"#loader",template:'<div class="bar" role="bar"></div>'},initial,current;function clamp(n,min,max){return n<min?min:n>max?max:n}function toBarPerc(n){return 100*(-1+n)}function barPositionCSS(n,speed,ease){var barCSS;return(barCSS="translate3d"===Settings.positionUsing?{transform:"translate3d("+toBarPerc(n)+"%,0,0)"}:"translate"===Settings.positionUsing?{transform:"translate("+toBarPerc(n)+"%,0)"}:{"margin-left":toBarPerc(n)+"%"}).transition="all "+speed+"ms "+ease,barCSS}NProgress.configure=function(options){var key,value;for(key in options)void 0!==(value=options[key])&&options.hasOwnProperty(key)&&(Settings[key]=value);return this},NProgress.status=null,NProgress.set=function(n){var started=NProgress.isStarted();n=clamp(n,Settings.minimum,1),NProgress.status=1===n?null:n;var progress=NProgress.render(!started),bar=progress.querySelector(Settings.barSelector),speed=Settings.speed,ease=Settings.easing;return progress.offsetWidth,queue(function(next){""===Settings.positionUsing&&(Settings.positionUsing=NProgress.getPositioningCSS()),css(bar,barPositionCSS(n,speed,ease)),1===n?(css(progress,{transition:"none",opacity:1}),progress.offsetWidth,setTimeout(function(){css(progress,{transition:"all "+speed+"ms linear",opacity:0}),setTimeout(function(){NProgress.remove(),next()},speed)},speed)):setTimeout(next,speed)}),this},NProgress.isStarted=function(){return"number"==typeof NProgress.status},NProgress.start=function(){NProgress.status||NProgress.set(0);var work=function(){setTimeout(function(){NProgress.status&&(NProgress.trickle(),work())},Settings.trickleSpeed)};return Settings.trickle&&work(),this},NProgress.done=function(force){return force||NProgress.status?NProgress.inc(.3+.5*Math.random()).set(1):this},NProgress.inc=function(amount){var n=NProgress.status;return n?("number"!=typeof amount&&(amount=(1-n)*clamp(Math.random()*n,.1,.95)),n=clamp(n+amount,0,.994),NProgress.set(n)):NProgress.start()},NProgress.trickle=function(){return NProgress.inc(Math.random()*Settings.trickleRate)},initial=0,current=0,NProgress.promise=function($promise){return $promise&&"resolved"!==$promise.state()?(0===current&&NProgress.start(),initial++,current++,$promise.always(function(){0==--current?(initial=0,NProgress.done()):NProgress.set((initial-current)/initial)}),this):this},NProgress.render=function(fromStart){if(NProgress.isRendered())return document.querySelector(".nprogress");var progress=document.createElement("div");progress.className="nprogress",progress.innerHTML=Settings.template;var bar=progress.querySelector(Settings.barSelector),perc=fromStart?"-100":toBarPerc(NProgress.status||0),parent=document.querySelector(Settings.parent);return css(bar,{transition:"all 0 linear",transform:"translate3d("+perc+"%,0,0)"}),parent.appendChild(progress),progress},NProgress.remove=function(){var progress=document.querySelector(".nprogress");progress&&removeElement(progress)},NProgress.isRendered=function(){return!!document.querySelector(".nprogress")},NProgress.getPositioningCSS=function(){var bodyStyle=document.body.style,vendorPrefix="WebkitTransform"in bodyStyle?"Webkit":"MozTransform"in bodyStyle?"Moz":"msTransform"in bodyStyle?"ms":"OTransform"in bodyStyle?"O":"";return vendorPrefix+"Perspective"in bodyStyle?"translate3d":vendorPrefix+"Transform"in bodyStyle?"translate":"margin"};var queue=function(){var pending=[];function next(){var fn=pending.shift();fn&&fn(next)}return function(fn){pending.push(fn),1==pending.length&&next()}}(),css=function(){var cssPrefixes=["Webkit","O","Moz","ms"],cssProps={};function camelCase(string){return string.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(match,letter){return letter.toUpperCase()})}function getVendorProp(name){var style=document.body.style;if(name in style)return name;for(var i=cssPrefixes.length,capName=name.charAt(0).toUpperCase()+name.slice(1),vendorName;i--;)if((vendorName=cssPrefixes[i]+capName)in style)return vendorName;return name}function getStyleProp(name){return name=camelCase(name),cssProps[name]||(cssProps[name]=getVendorProp(name))}function applyCss(element,prop,value){prop=getStyleProp(prop),element.style[prop]=value}return function(element,properties){var args=arguments,prop,value;if(2==args.length)for(prop in properties)void 0!==(value=properties[prop])&&properties.hasOwnProperty(prop)&&applyCss(element,prop,value);else applyCss(element,args[1],args[2])}}();function hasClass(element,name){var list;return("string"==typeof element?element:classList(element)).indexOf(" "+name+" ")>=0}function addClass(element,name){var oldList=classList(element),newList=oldList+name;hasClass(oldList,name)||(element.className=newList.substring(1))}function removeClass(element,name){var oldList=classList(element),newList;hasClass(element,name)&&(newList=oldList.replace(" "+name+" "," "),element.className=newList.substring(1,newList.length-1))}function classList(element){return(" "+(element.className||"")+" ").replace(/\s+/gi," ")}function removeElement(element){element&&element.parentNode&&element.parentNode.removeChild(element)}return NProgress});class Loader{constructor(object){this.loader=document.getElementById(object.id),this.ringLoad=document.getElementById(object.ringLoad),this.ringLoad&&(this.marker=!0)}done(){NProgress.done(),this.loader.style.opacity="0",this.marker&&(this.ringLoad.style.opacity="0"),setTimeout(()=>{this.loader.style.display="none",this.marker&&(this.ringLoad.style.display="none")},1e3)}}class Like{constructor(object){this.likeInteractive=document.querySelectorAll(object.likeInteractive),this.socialLikeCount=document.querySelectorAll(object.socialLikeCount)}init(){this.likeInteractive.forEach((e,i)=>{e.addEventListener("click",()=>{e.classList.contains("text-danger")?(e.classList.remove("text-danger"),e.classList.replace("fas","far"),this.socialLikeCount[i].innerHTML=parseInt(this.socialLikeCount[i].innerHTML)-1,fetch("/dislike/"+e.dataset.id,{method:"get"}).then(function(response){}).catch(function(err){console.log(err)})):(e.classList.add("text-danger"),e.classList.replace("far","fas"),this.socialLikeCount[i].innerHTML=parseInt(this.socialLikeCount[i].innerHTML)+1,fetch("/like/"+e.dataset.id,{method:"get"}).then(function(response){}).catch(function(err){console.log(err)}))})})}}class NavLinkActive{constructor(object){this.navLinks=document.querySelectorAll(object.navLink),this.links=object.links}init(){window.location.href.indexOf(this.links[0])>-1?(this.activeRemove(),this.navLinks[1].classList.add("active")):window.location.href.indexOf(this.links[1])>-1?(this.activeRemove(),this.navLinks[2].classList.add("active")):window.location.href.indexOf(this.links[2])>-1?(this.activeRemove(),this.navLinks[3].classList.add("active")):window.location.href.indexOf(this.links[3])>-1?(this.activeRemove(),this.navLinks[4].classList.add("active")):(this.activeRemove(),this.navLinks[0].classList.add("active"))}activeRemove(){this.navLinks.forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")})}}class Comments{constructor(object){this.socialInteractiveComments=document.querySelector(object.socialInteractiveComments),this.content=object.content,this.imgDetailCommentsCount=document.querySelector(object.imgDetailCommentsCount),this.imgDetailCommentsText=document.querySelector(object.imgDetailCommentsText),this.imgDetailForm=document.querySelector(object.imgDetailForm),this.imgDetailFormInput=document.querySelector(object.imgDetailFormInput),this.imgDetailComments=document.querySelector(object.imgDetailComments),this.imgDetailFormImageId=document.querySelector(object.imgDetailFormImageId),this.csrf=document.querySelector(object.csrf),this.imgDetailCommentsDelete=document.querySelectorAll(object.imgDetailCommentsDelete)}init(){""!=this.imgDetailFormInput.value&&(this.restSave(),this.reactiveComment(),this.reactiveCountMore(),this.imgDetailFormFocus())}restSave(){this.url="/comment/save",this.data={content:this.imgDetailFormInput.value,image_id:parseInt(this.imgDetailFormImageId.value)},fetch(this.url,{method:"POST",body:JSON.stringify(this.data),headers:{"X-CSRF-TOKEN":this.csrf.getAttribute("content"),"Content-Type":"application/json"}}).then(res=>res.json()).catch(error=>console.error("Error:",error))}reactiveComment(){this.node=document.createElement("p"),this.node.classList.add("imgDetail-comments-comment"),this.node.innerHTML="<strong>"+this.imgDetailFormInput.dataset.nick+"</strong> <span>"+this.imgDetailFormInput.value+"</span>",this.imgDetailComments.prepend(this.node),this.imgDetailFormInput.value=""}reactiveCountMore(){this.imgDetailCommentsCount.innerHTML=parseInt(this.imgDetailCommentsCount.innerHTML)+1,this.imgDetailCommentsText.innerHTML=1==parseInt(this.imgDetailCommentsCount.innerHTML)?" comentario":" comentarios"}imgDetailFormFocus(){this.content.focus()}deleteEvent(e){e.addEventListener("click",()=>{this.restDelete(e),this.removeP(e),this.reactiveCountLess()})}restDelete(e){fetch("/comment/delete/"+e.dataset.id,{method:"get"}).then(response=>{}).catch(err=>{console.log(err)})}removeP(e){this.p=e.parentNode,this.pNode=this.p.parentNode,this.pNode.removeChild(this.p)}reactiveCountLess(){this.imgDetailCommentsCount.innerHTML=parseInt(this.imgDetailCommentsCount.innerHTML)-1,this.imgDetailCommentsText.innerHTML=1==parseInt(this.imgDetailCommentsCount.innerHTML)?" comentario":" comentarios"}}class Search{constructor(object){this.formSearch=document.getElementById(object.formSearch),this.search=document.getElementById(object.search)}init(){this.formSearch.addEventListener("submit",()=>{location.href=this.formSearch.action+"/"+this.search.value,event.preventDefault()})}}